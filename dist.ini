name             = NewRelic
author           = Graham Ollis <plicease@cpan.org>
license          = Perl_5
copyright_holder = Graham Ollis
copyright_year   = 2020
version          = 0.01

[@Author::Plicease]
:version       = 2.47
travis_status  = 1
release_tests  = 1
installer      = Author::Plicease::MakeMaker
github_user    = plicease
test2_v0       = 1
version_plugin = PkgVersion::Block

diag_preamble = | $post_diag = sub {
diag_preamble = |   eval {
diag_preamble = |     require NewRelic;
diag_preamble = |     diag 'newrelic_version = ', NewRelic::newrelic_version();
diag_preamble = |   };
diag_preamble = |  };

[Author::Plicease::Core]

[Author::Plicease::Upload]
cpan = 1

[Prereqs / ConfigurePrereqs]
-phase = configure
FFI::CheckLib = 0.27

[DynamicPrereqs / Alien]
-condition = do { use FFI::CheckLib 0.27; !find_lib lib => 'newrelic' }
-body = requires('Alien::libnewrelic', '0.01')

[PruneFiles]
filename = newrelic_sdk.log
